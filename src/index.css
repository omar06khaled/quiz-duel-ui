@tailwind base;
@tailwind components;
@tailwind utilities;

@import url('https://fonts.googleapis.com/css2?family=Bungee&family=Fredoka:wght@400;500;600;700&family=Inter:wght@400;500;600&family=Nunito:wght@400;500;600;700;800&family=Space+Grotesk:wght@400;500;600;700&display=swap');

@layer base {
  :root {
    --background: 270 24% 16%;
    --foreground: 22 90% 95%;

    --card: 268 22% 20%;
    --card-foreground: 22 90% 95%;

    --popover: 268 22% 20%;
    --popover-foreground: 22 90% 95%;

    --primary: 24 96% 56%;
    --primary-foreground: 0 0% 100%;

    --secondary: 268 18% 24%;
    --secondary-foreground: 20 44% 92%;

    --muted: 268 14% 22%;
    --muted-foreground: 22 20% 72%;

    --accent: 332 85% 64%;
    --accent-foreground: 0 0% 100%;

    --destructive: 0 72% 55%;
    --destructive-foreground: 210 40% 98%;

    --border: 274 18% 36%;
    --input: 274 18% 36%;
    --ring: 196 88% 56%;

    --radius: 0.75rem;

    --sidebar-background: 268 22% 20%;
    --sidebar-foreground: 20 44% 92%;
    --sidebar-primary: 24 96% 56%;
    --sidebar-primary-foreground: 0 0% 100%;
    --sidebar-accent: 268 18% 24%;
    --sidebar-accent-foreground: 20 44% 92%;
    --sidebar-border: 274 18% 36%;
    --sidebar-ring: 196 88% 56%;

    /* Game tokens */
    --game-surface: 268 22% 21%;
    --game-tile: 268 20% 24%;
    --game-tile-hover: 268 20% 29%;
    --game-tile-disabled: 268 14% 18%;
    --game-gold: 45 90% 55%;
    --game-gold-foreground: 45 10% 10%;
    --game-correct: 152 60% 45%;
    --game-incorrect: 0 72% 55%;
    --game-team1: 196 88% 56%;
    --game-team2: 332 85% 62%;

    /* Party accent tokens */
    --game-pink: 332 85% 64%;
    --game-purple: 278 72% 62%;
    --game-orange: 24 96% 56%;
    --game-teal: 196 88% 56%;

    --game-gradient-start: 24 96% 56%;
    --game-gradient-mid: 334 82% 56%;
    --game-gradient-end: 196 84% 58%;
  }
}

@layer base {
  * {
    @apply border-border;
  }

  body {
    @apply bg-background text-foreground font-body antialiased;
    background:
      radial-gradient(68% 58% at 14% 10%, hsl(200 92% 56% / 0.24) 0%, transparent 72%),
      radial-gradient(82% 70% at 86% 16%, hsl(188 88% 58% / 0.2) 0%, transparent 74%),
      linear-gradient(140deg, hsl(232 34% 12%) 0%, hsl(224 40% 14%) 52%, hsl(216 44% 16%) 100%);
    background-attachment: fixed;
    min-height: 100vh;
  }
}

@layer utilities {
  .font-display {
    font-family: 'Space Grotesk', sans-serif;
  }
  .font-body {
    font-family: 'Inter', sans-serif;
  }
  .font-home-title {
    font-family: 'Bungee', cursive;
    letter-spacing: 0.02em;
  }
  .font-home-ui {
    font-family: 'Nunito', sans-serif;
    letter-spacing: 0.01em;
  }
  .font-home-subheading {
    font-family: 'Fredoka', sans-serif;
    letter-spacing: 0.02em;
  }
  .home-arcade-bg {
    --background: 352 82% 38%;
    --foreground: 0 0% 97%;
    --card: 237 20% 15%;
    --card-foreground: 0 0% 97%;
    --secondary: 237 19% 18%;
    --secondary-foreground: 0 0% 97%;
    --muted: 237 16% 22%;
    --muted-foreground: 0 0% 92%;
    --border: 0 0% 82%;
    --input: 0 0% 82%;
    --primary: 351 100% 59%;
    --primary-foreground: 0 0% 100%;
    --accent: 351 100% 59%;
    --accent-foreground: 0 0% 100%;
    position: relative;
    isolation: isolate;
    overflow: hidden;
    background:
      radial-gradient(62% 52% at 88% 12%, #38BDF866 0%, transparent 74%),
      radial-gradient(48% 44% at 12% 88%, #22D3EE55 0%, transparent 74%),
      linear-gradient(138deg, #0B3D91 0%, #2563EB 58%, #0B3D91 100%);
  }
  .home-arcade-bg::before {
    content: "";
    position: absolute;
    inset: 0;
    z-index: -1;
    opacity: 0.28;
    background:
      linear-gradient(35deg, transparent 40%, #38BDF844 40% 47%, transparent 47% 54%, #FFFFFF22 54% 61%, transparent 61%),
      linear-gradient(-35deg, transparent 32%, #2563EB55 32% 39%, transparent 39% 46%, #22D3EE3A 46% 53%, transparent 53%);
  }
  .home-title-glow {
    text-shadow:
      0 3px 0 hsl(0 0% 0% / 0.22),
      0 0 10px #ffffff40,
      0 0 22px #ff2e4d55;
  }
  .home-search-field {
    background: hsl(237 19% 14% / 0.9);
    border: 1px solid hsl(0 0% 100% / 0.35);
    color: hsl(0 0% 100%);
  }
  .home-search-field::placeholder {
    color: hsl(0 0% 100% / 0.72);
  }
  .home-search-field:focus {
    outline: none;
    box-shadow:
      0 0 0 2px hsl(0 0% 100% / 0.3),
      0 0 16px hsl(351 100% 59% / 0.35);
  }
  .home-filter-pill {
    border: 1px solid hsl(0 0% 100% / 0.44);
    color: hsl(0 0% 100% / 0.96);
    background: transparent;
    box-shadow: 0 4px 10px -8px hsl(0 0% 0% / 0.6);
  }
  .home-filter-pill:hover {
    box-shadow:
      0 0 0 1px hsl(0 0% 100% / 0.18),
      0 0 14px hsl(351 100% 59% / 0.32);
  }
  .home-filter-pill-active {
    border-color: #ff2e4d;
    background: #ff2e4d;
    color: #fff;
    box-shadow:
      0 0 0 1px #ff2e4d88,
      0 0 18px #ff2e4d77;
  }
  .home-category-card {
    background: #1f1f2e;
    border: 1px solid hsl(0 0% 100% / 0.2);
    box-shadow: 0 10px 18px -14px hsl(240 30% 4% / 0.75);
    transition:
      transform 0.2s ease,
      box-shadow 0.2s ease,
      border-color 0.2s ease;
  }
  .home-category-card:hover {
    transform: translateY(-4px) scale(1.03);
    border-color: #ff2e4d99;
    box-shadow:
      0 16px 28px -14px hsl(240 30% 4% / 0.9),
      0 0 14px #ff2e4d66;
  }
  .home-difficulty-tag {
    font-size: 11px;
    font-weight: 800;
    line-height: 1;
    padding: 0.25rem 0.4rem;
    border-radius: 0.375rem;
    text-transform: uppercase;
    letter-spacing: 0.04em;
  }
  .home-difficulty-easy {
    background: #2dfc85;
    color: #06230f;
    box-shadow: 0 0 12px #2dfc8588;
  }
  .home-difficulty-medium {
    background: #ffd84a;
    color: #2a2200;
    box-shadow: 0 0 12px #ffd84a88;
  }
  .home-difficulty-hard {
    background: #ff3b4d;
    color: #fff;
    box-shadow: 0 0 12px #ff3b4d88;
  }
  @keyframes counter-pulse {
    0%,
    100% {
      box-shadow:
        0 0 0 1px hsl(0 0% 100% / 0.34),
        0 6px 16px -12px hsl(0 0% 0% / 0.7);
    }
    50% {
      box-shadow:
        0 0 0 1px hsl(0 0% 100% / 0.5),
        0 0 14px hsl(351 100% 59% / 0.5);
    }
  }
  @keyframes counter-flash {
    0% {
      box-shadow:
        0 0 0 0 hsl(351 100% 59% / 0.7),
        0 0 0 1px hsl(0 0% 100% / 0.5);
    }
    100% {
      box-shadow:
        0 0 0 14px hsl(351 100% 59% / 0),
        0 0 0 1px hsl(0 0% 100% / 0.34);
    }
  }
  .home-counter-badge {
    background: hsl(237 19% 16% / 0.86);
    border: 1px solid hsl(0 0% 100% / 0.34);
    border-radius: 9999px;
    padding: 0.35rem 0.85rem;
    color: #fff;
  }
  .home-counter-full {
    animation: counter-pulse 1.4s ease-in-out infinite;
  }
  .home-counter-flash {
    animation: counter-flash 0.45s ease-out 1;
  }
  .board-arcade-bg {
    position: relative;
    isolation: isolate;
    overflow: hidden;
    background:
      radial-gradient(62% 54% at 50% 34%, hsl(200 96% 56% / 0.26) 0%, transparent 70%),
      radial-gradient(95% 90% at 50% 50%, transparent 50%, hsl(246 32% 7% / 0.8) 100%),
      linear-gradient(160deg, hsl(230 34% 12%) 0%, hsl(222 30% 10%) 50%, hsl(214 36% 9%) 100%);
  }
  .board-arcade-bg::before {
    content: "";
    position: absolute;
    inset: 0;
    z-index: -1;
    opacity: 0.07;
    background:
      radial-gradient(circle at 1px 1px, hsl(0 0% 100%) 1px, transparent 1.3px);
    background-size: 8px 8px;
    pointer-events: none;
  }
  @keyframes team-turn-pulse {
    0%,
    100% {
      box-shadow:
        0 0 0 1px hsl(var(--turn-accent) / 0.45),
        0 0 12px hsl(var(--turn-accent) / 0.28);
      filter: saturate(1);
    }
    50% {
      box-shadow:
        0 0 0 1px hsl(var(--turn-accent) / 0.64),
        0 0 20px hsl(var(--turn-accent) / 0.52);
      filter: saturate(1.2);
    }
  }
  .team-turn-indicator {
    position: relative;
    overflow: hidden;
    animation: team-turn-pulse 1.8s ease-in-out infinite;
  }
  .team-turn-indicator::after {
    content: "";
    position: absolute;
    left: 16%;
    right: 16%;
    bottom: 4px;
    height: 2px;
    border-radius: 9999px;
    background: hsl(var(--turn-accent) / 0.8);
    transform-origin: center;
    animation: team-turn-underline 1.8s ease-in-out infinite;
  }
  @keyframes team-turn-underline {
    0%,
    100% {
      transform: scaleX(0.75);
      opacity: 0.6;
    }
    50% {
      transform: scaleX(1);
      opacity: 1;
    }
  }
  .team-turn-team1 {
    --turn-accent: var(--game-team1);
  }
  .team-turn-team2 {
    --turn-accent: var(--game-team2);
  }
  .score-panel-team1 {
    border-color: hsl(var(--game-team1) / 0.5);
    box-shadow:
      0 8px 20px -12px hsl(240 30% 3% / 0.85),
      0 0 12px hsl(var(--game-team1) / 0.2);
    background: hsl(244 20% 20% / 0.94);
  }
  .score-panel-team2 {
    border-color: hsl(var(--game-team2) / 0.5);
    box-shadow:
      0 8px 20px -12px hsl(240 30% 3% / 0.85),
      0 0 12px hsl(var(--game-team2) / 0.2);
    background: hsl(244 20% 20% / 0.94);
  }
  .board-arena-frame {
    border-radius: 18px;
    padding: 22px;
    background: #241c3b;
    border: 1px solid rgba(255, 50, 100, 0.2);
    box-shadow:
      0 0 28px rgba(255, 50, 100, 0.16),
      0 0 24px rgba(70, 220, 255, 0.1),
      inset 0 0 40px rgba(0, 0, 0, 0.4);
  }
  @media (min-width: 768px) {
    .board-arena-frame {
      padding: 24px;
    }
  }
  .score-number-team1 {
    text-shadow:
      0 2px 0 hsl(0 0% 0% / 0.35),
      0 0 14px hsl(var(--game-team1) / 0.45);
  }
  .score-number-team2 {
    text-shadow:
      0 2px 0 hsl(0 0% 0% / 0.35),
      0 0 14px hsl(var(--game-team2) / 0.45);
  }
  .point-value-arcade {
    font-size: clamp(2.2rem, 3vw, 2.9rem);
    text-shadow:
      0 2px 0 hsl(0 0% 0% / 0.35),
      0 0 12px hsl(var(--game-gold) / 0.4);
    letter-spacing: 0.02em;
  }
  .tileInteractive {
    cursor: pointer;
    transition:
      transform 180ms ease,
      box-shadow 180ms ease,
      filter 180ms ease,
      background-color 180ms ease;
  }
  .tileInteractive:hover {
    transform: translateY(-4px);
    filter: brightness(1.08);
    box-shadow:
      0 0 30px -6px hsl(var(--primary) / 0.32),
      0 14px 28px -10px hsl(240 30% 6% / 0.65);
  }
  .tileInteractive:active {
    transform: translateY(-1px) scale(0.98);
  }
  .tileInteractive:focus-visible {
    outline: none;
    box-shadow:
      0 0 0 2px hsl(0 0% 100% / 0.16),
      0 0 0 4px hsl(var(--ring) / 0.45);
  }
  .tileDisabled {
    cursor: not-allowed;
    opacity: 0.5;
    box-shadow: none;
    transform: none;
    transition: opacity 160ms ease;
  }
  .tileDisabled:hover,
  .tileDisabled:active {
    transform: none;
    filter: none;
    box-shadow: none;
  }
  .tileHeaderInteractive {
    transition:
      transform 180ms ease,
      box-shadow 180ms ease,
      border-color 180ms ease;
  }
  .tileHeaderInteractive:hover {
    transform: translateY(-2px);
    border-color: hsl(0 0% 100% / 0.22);
    box-shadow:
      0 8px 18px -12px hsl(240 30% 6% / 0.7),
      0 0 14px hsl(351 100% 59% / 0.24);
  }
  .game-tile-glow {
    box-shadow: 0 0 20px -4px hsl(var(--primary) / 0.15),
                0 6px 18px -4px hsl(260 30% 6% / 0.45);
  }
  .game-tile-glow-hover {
    box-shadow: 0 0 28px -4px hsl(var(--primary) / 0.25),
                0 10px 26px -6px hsl(260 30% 6% / 0.56);
  }
  .score-pill-shadow {
    box-shadow: 0 12px 26px -12px hsl(260 34% 5% / 0.58);
  }
  .glass-surface {
    background: hsl(var(--game-surface) / 0.86);
    backdrop-filter: blur(12px);
    -webkit-backdrop-filter: blur(12px);
  }
  .neon-glow {
    box-shadow: 0 0 16px -2px hsl(var(--primary) / 0.35),
                0 0 32px -4px hsl(var(--primary) / 0.15);
  }
  .party-gradient {
    background: linear-gradient(125deg, hsl(var(--game-team1)), hsl(var(--game-pink)) 56%, hsl(var(--game-teal)));
  }
  .party-gradient-text {
    background: linear-gradient(125deg, hsl(var(--game-team1)), hsl(var(--game-pink)) 56%, hsl(var(--game-teal)));
    -webkit-background-clip: text;
    -webkit-text-fill-color: transparent;
    background-clip: text;
  }
  .party-glow-pink {
    box-shadow: 0 0 20px -4px hsl(var(--game-pink) / 0.3);
  }
  .party-glow-teal {
    box-shadow: 0 0 20px -4px hsl(var(--game-teal) / 0.3);
  }

  @keyframes score-ring-breathe {
    0%,
    100% {
      box-shadow:
        0 8px 22px -12px hsl(var(--ring-accent) / 0.3),
        0 0 0 2px hsl(var(--ring-accent) / 0.45),
        0 0 24px 0 hsl(var(--ring-accent) / 0.35);
    }
    50% {
      box-shadow:
        0 8px 22px -12px hsl(var(--ring-accent) / 0.16),
        0 0 0 2px hsl(var(--ring-accent) / 0.2),
        0 0 10px 0 hsl(var(--ring-accent) / 0.15);
    }
  }

  .score-pill-ring-glow {
    animation: score-ring-breathe 1.8s ease-in-out infinite;
  }

  .score-pill-ring-team1 {
    --ring-accent: var(--game-team1);
  }

  .score-pill-ring-team2 {
    --ring-accent: var(--game-team2);
  }
}
